<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Entrega</title>
  <link rel="stylesheet" href="estilos.css">
  <script defer src="script.js"></script>
</head>
<body>
  <form id="formularioEntrega">
    <h2>Formulario de Entrega de Dispositivo</h2>

    <!-- Fecha actual (automática) -->
    <label for="fecha_actual">Fecha:</label>
    <input type="text" id="fecha_actual" name="fecha" readonly>

    <!-- Cédula -->
    <label for="cedula">Cédula:</label>
    <input type="text" id="cedula" name="cedula" required oninput="this.value=this.value.replace(/[^0-9]/g,'')">
    <button type="button" onclick="buscarDatosColaborador()">Buscar</button>

    <!-- Datos automáticos -->
    <label for="nombre_colaborador">Nombre Colaborador:</label>
    <input type="text" id="nombre_colaborador" name="nombre_colaborador" readonly>

    <label for="agencia">Agencia:</label>
    <input type="text" id="agencia" name="agencia" readonly>

    <label for="telefono">Teléfono:</label>
    <input type="text" id="telefono" name="telefono" readonly>

    <!-- Aquí empiezan los campos editables por el usuario -->

    <label for="codigo_sap">Código SAP:</label>
    <input type="text" id="codigo_sap" name="codigo_sap" required>

    <label for="estado_equipo">Estado del equipo:</label>
    <select id="estado_equipo" name="estado_equipo" required>
      <option value="Bueno">Bueno</option>
      <option value="Regular">Regular</option>
      <option value="Malo">Malo</option>
    </select>

    <label>Accesorios entregados:</label>
    <div>
      <label><input type="checkbox" name="accesorios" value="Estuche"> Estuche</label>
      <label><input type="checkbox" name="accesorios" value="Batería"> Batería</label>
      <label><input type="checkbox" name="accesorios" value="Cargador"> Cargador</label>
      <label><input type="checkbox" name="accesorios" value="Cable"> Cable</label>
    </div>

    <label for="estado_bateria">Estado de la batería:</label>
    <input type="text" id="estado_bateria" name="estado_bateria">

    <label for="serial">Serial del equipo:</label>
    <input type="text" id="serial" name="serial" readonly>

    <label for="operacion">Operación:</label>
    <select id="operacion" name="operacion">
      <option value="Preventa">Preventa</option>
      <option value="Venta">Venta</option>
      <option value="Moderno">Moderno</option>
    </select>

    <label for="observaciones">Observaciones:</label>
    <textarea id="observaciones" name="observaciones"></textarea>

    <label for="firma">Firma del colaborador:</label>
    <canvas id="firma" width="300" height="150" style="border:1px solid #000;"></canvas>
    <button type="button" onclick="borrarFirma()">Borrar firma</button>

    <br><br>
    <button type="submit">Enviar</button>
  </form>
</body>
</html>

